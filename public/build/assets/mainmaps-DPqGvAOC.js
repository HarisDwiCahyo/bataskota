import{V as Ge,f as Ne,M as Ve,T as U,O as Oe,X as de,L as he,b as d,G as L,c as v,S as m,e as s,d as u,C as M,a as Te,g as qe,h as De,i as Re,j as D,D as ze,k as ye,l as Je,F as we,P as me,m as $e,n as je,o as He,p as ke,q as We,r as Ae}from"./GeoJSON-C5wKpImO.js";import{G as _e}from"./Geolocation-DOMlNKP2.js";$(document).ready(function(){$('[data-toggle="modal"]').click(function(){$("#exampleModal").modal("show")})});document.getElementById("app-side-mini-toggler").addEventListener("click",function(e){e.preventDefault()});document.querySelector('[data-toggle="onoffcanvas"]').addEventListener("click",function(e){e.preventDefault()});document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".user-action");e.forEach(function(t){t.addEventListener("click",function(a){a.preventDefault();var n=document.querySelectorAll(".side-nav");n.forEach(function(i){i.classList.remove("active")});var o=document.querySelector(t.getAttribute("data-target"));o&&o.classList.add("active")})})});var W=new Ge({center:Ne([110.35385111973005,-7.791739623962835]),zoom:18,projection:"EPSG:4326"}),r=new Ve({target:"map",view:W,controls:[]}),Ee=new U({title:"Open Street Map",visible:!0,source:new Oe}),Le=new U({title:"Esri Maps",visible:!0,source:new de({attributions:["Tiles © Esri"],url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"})}),Se=new U({title:"World Street Map",visible:!0,source:new de({attributions:["Tiles © Esri"],url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"})}),be=new U({title:"World Imagery Map",visible:!0,source:new de({attributions:["Tiles © Esri"],url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),Fe=new he({title:"BaseMaps",layers:[Ee,Se,be,Le]});r.addLayer(Fe);$("input[name='basemapRadio']").change(function(){var e=$(this).attr("id");Fe.getLayers().forEach(function(t){t.setVisible(!1)}),e==="worldimagery"?be.setVisible(!0):e==="streetmap"?Se.setVisible(!0):e==="openstreetmap"?Ee.setVisible(!0):e==="esrimaps"&&Le.setVisible(!0)});var R=new he({title:"Group",layers:[]});r.addLayer(R);$.getJSON("/kecamatan",function(e){if(e.data){var t=Pe(e.data);Ze(t)}else console.error("Data GeoJSON tidak ditemukan dalam respons")}).fail(function(e,t,a){console.error("Request Failed: "+t+", "+a)});var p=null;function Pe(e){return new d({features:new L().readFeatures(e,{featureProjection:"EPSG:4326"})})}function Ze(e){var t=e.getFeatures(),a=Xe(t);Ue(a),Ye()}function Xe(e){var t=new Set;return e.forEach(function(a){var n=a.getProperties();n.hasOwnProperty("kemantren")&&t.add(n.kemantren)}),t}function Ue(e){var t=document.getElementById("propertikemantren");t.innerHTML="",e.forEach(function(a){var n=document.createElement("option");n.value=a,n.text=a,t.appendChild(n)})}function Ye(){document.getElementById("filterkemantren").addEventListener("click",function(){var e=document.getElementById("propertikemantren").value;e?Qe(e):alert("Silakan pilih nilai Kemantren terlebih dahulu.")})}function Qe(e){$.getJSON("/kecamatan",function(t){if(t.data){var a=Pe(t.data),n=et(a,e);tt(n)}else console.error("Data GeoJSON tidak ditemukan dalam respons")}).fail(function(t,a,n){console.error("Request Failed: "+a+", "+n)})}function et(e,t){return e.getFeatures().filter(function(a){var n=a.getProperties();return n.kemantren===t})}function tt(e){var t=new d({features:e}),a=new v({title:"Hasil Filter",source:t,style:at});nt(a),rt(t),ot(e)}function at(e){return new m({stroke:new s({color:"red",width:2}),fill:new u({color:"rgba(0, 0, 255, 0.1)"})})}function nt(e){p&&r.removeLayer(p),r.addLayer(e),p=e}function rt(e){var t=e.getExtent();r.getView().fit(t,{duration:1e3})}function ot(e){e.forEach(function(t){console.log(t.getProperties())})}$.getJSON("/kelurahan",function(e){if(e.data){var t=Ie(e.data);it(t)}else console.error("Data GeoJSON tidak ditemukan dalam respons")}).fail(function(e,t,a){console.error("Request Failed: "+t+", "+a)});function Ie(e){return new d({features:new L().readFeatures(e,{featureProjection:"EPSG:4326"})})}function it(e){var t=e.getFeatures(),a=lt(t);ct(a),ut()}function lt(e){var t=new Set;return e.forEach(function(a){var n=a.getProperties();n.hasOwnProperty("kemantren")&&t.add(n.kemantren)}),t}function ct(e){var t=document.getElementById("propertikemantren1");t.innerHTML="",e.forEach(function(a){var n=document.createElement("option");n.value=a,n.text=a,t.appendChild(n)})}function ut(){document.getElementById("propertikemantren1").addEventListener("change",function(){var e=this.value;st(e)})}function st(e){$.getJSON("/kelurahan",function(t){if(t.data){var a=Ie(t.data),n=dt(a,e);ft(n),mt(n)}else console.error("Data GeoJSON tidak ditemukan dalam respons")}).fail(function(t,a,n){console.error("Request Failed: "+a+", "+n)})}function dt(e,t){return e.getFeatures().filter(function(a){var n=a.getProperties();return n.kemantren===t})}function ft(e){var t=document.getElementById("propertikelurahan");t.innerHTML="",e.forEach(function(a){var n=a.getProperties(),o=n.kelurahan,i=document.createElement("option");i.value=o,i.text=o,t.appendChild(i)})}function mt(e){document.getElementById("filterkelurahan").addEventListener("click",function(){var t=document.getElementById("propertikelurahan").value;t?pt(t,e):alert("Silakan pilih nilai Kelurahan terlebih dahulu.")})}function pt(e,t){var a=t.filter(function(i){var l=i.getProperties();return l.kelurahan===e}),n=new d({features:a}),o=vt(n);ht(o),yt(n),wt(a)}function vt(e){return new v({title:"Hasil Filter",source:e,style:gt})}function gt(e){return new m({stroke:new s({color:"red",width:2}),fill:new u({color:"rgba(0, 0, 255, 0.1)"})})}function ht(e){p&&r.removeLayer(p),r.addLayer(e),p=e}function yt(e){var t=e.getExtent();r.getView().fit(t,{duration:1e3})}function wt(e){e.forEach(function(t){console.log(t.getProperties())})}var p=null,se=null;$.getJSON("/rw",function(e){e.data?(se=new d({features:new L().readFeatures(e.data,{featureProjection:"EPSG:4326"})}),kt(se)):console.error("Data GeoJSON tidak ditemukan dalam respons")}).fail(function(e,t,a){console.error("Request Failed: "+t+", "+a)});function kt(e){var t=e.getFeatures(),a=new Set;t.forEach(function(o){var i=o.getProperties();if(i.hasOwnProperty("kemantren")){var l=i.kemantren;a.add(l)}});var n=document.getElementById("propertikemantren2");n.innerHTML="",a.forEach(function(o){var i=document.createElement("option");i.value=o,i.text=o,n.appendChild(i)}),n.addEventListener("change",function(){var o=this.value;Et(e,o)})}function Et(e,t){var a=e.getFeatures(),n=new Set;a.forEach(function(i){var l=i.getProperties();if(l.kemantren===t&&l.hasOwnProperty("kelurahan")){var c=l.kelurahan;n.add(c)}});var o=document.getElementById("propertikelurahan1");o.innerHTML="",n.forEach(function(i){var l=document.createElement("option");l.value=i,l.text=i,o.appendChild(l)}),o.addEventListener("change",function(){var i=this.value;Lt(e,t,i)})}function Lt(e,t,a){var n=e.getFeatures(),o=new Set;n.forEach(function(l){var c=l.getProperties();if(c.kemantren===t&&c.kelurahan===a&&c.hasOwnProperty("rw")){var B=c.rw;o.add(B)}});var i=document.getElementById("propertirw");i.innerHTML="",o.forEach(function(l){var c=document.createElement("option");c.value=l,c.text=l,i.appendChild(c)})}function St(e){var t=new d({features:e});function a(o){return new m({stroke:new s({color:"red",width:2}),fill:new u({color:"rgba(0, 0, 255, 0.1)"})})}var n=new v({title:"Hasil Filter",source:t,style:a});return p&&r.removeLayer(p),r.addLayer(n),p=n,t}function bt(e){var t=e.getExtent();t&&t[0]!==1/0&&t[1]!==1/0&&t[2]!==-1/0&&t[3]!==-1/0?r.getView().fit(t,{duration:1e3}):console.warn("Extent tidak valid")}document.getElementById("filterrw").addEventListener("click",function(){var e=document.getElementById("propertikemantren2").value,t=document.getElementById("propertikelurahan1").value,a=document.getElementById("propertirw").value;if(a){var n=se.getFeatures().filter(function(i){var l=i.getProperties();return l.kemantren===e&&l.kelurahan===t&&l.rw===a}),o=St(n);bt(o),n.forEach(function(i){console.log(i.getProperties())})}else alert("Silakan pilih nilai RW terlebih dahulu.")});document.getElementById("filterpilar").addEventListener("click",function(){var e=document.getElementById("valueInput").value;if(e){var t="/bataspilar";Ft(t,e)}else alert("Masukkan nilai untuk mencari pilar.")});function Ft(e,t){$.getJSON(e,function(a){a.data?Pt(a.data,t):console.error("Data GeoJSON tidak ditemukan dalam respons")}).fail(function(a,n,o){console.error("Request Failed: "+n+", "+o)})}function Pt(e,t){var a=It(e),n=Kt(a,t);if(n.length>0){var o=new d({features:n}),i=Bt(o);Mt(i),xt(o),Gt(n)}else console.log("Tidak ada fitur yang cocok dengan nilai input.")}function It(e){return new d({features:new L().readFeatures(e,{featureProjection:"EPSG:4326"})})}function Kt(e,t){return e.getFeatures().filter(function(a){var n=a.getProperties(),o=n.nopilar;return o.toLowerCase().includes(t.toLowerCase())})}function Bt(e){return new v({title:"Hasil Filter",source:e,style:Ct})}function Ct(e){return new m({image:new M({radius:7,fill:new u({color:"rgba(255, 0, 0, 0.6)"}),stroke:new s({color:"red",width:2})})})}function Mt(e){p&&r.removeLayer(p),r.addLayer(e),p=e}function xt(e){var t=e.getExtent();r.getView().fit(t,{duration:1e3})}function Gt(e){e.forEach(function(t){console.log(t.getProperties())})}var g=null,b=null,y=null,F=null,w=null,P=null,k=null,I=null,E=null,K=null,f=null;function Nt(){Vt().then(e=>{e.data?(Ot(),Tt(e.data),qt(),Dt(),Rt()):console.error("Data GeoJSON tidak ditemukan dalam respons")}).catch(e=>{console.error("Request Failed: ",e)})}function Vt(){return $.getJSON("/bataspilar")}function Ot(){g&&(r.removeLayer(g),g=null),b?b.clear():b=new d}function Tt(e){b.addFeatures(new L().readFeatures(e,{featureProjection:"EPSG:4326"}))}function qt(){g=new v({title:"pilar",source:b,style:new m({image:new M({radius:5,fill:new u({color:"blue"}),stroke:new s({color:"white",width:2})})})})}function Dt(){R.getLayers().push(g)}function Rt(){var e=b.getExtent();zt(e)?r.getView().fit(e,{duration:1e3}):console.warn("Extent tidak valid")}function zt(e){return e&&e[0]!==1/0&&e[1]!==1/0&&e[2]!==-1/0&&e[3]!==-1/0}function Ke(){Jt().then(e=>{e.data?($t(),jt(e.data),Ht(),Wt(),At()):console.error("Data GeoJSON tidak ditemukan dalam respons")}).catch(e=>{console.error("Request Failed: ",e)})}function Jt(){return $.getJSON("/kota")}function $t(){y&&(r.removeLayer(y),y=null),F?F.clear():F=new d}function jt(e){F.addFeatures(new L().readFeatures(e,{featureProjection:"EPSG:4326"}))}function Ht(){y=new v({title:"kota",source:F,style:new m({stroke:new s({color:"purple",width:2}),fill:new u({color:"rgba(0, 0, 255, 0.1)"})})})}function Wt(){R.getLayers().push(y)}function At(){var e=F.getExtent();_t(e)?r.getView().fit(e,{duration:1e3}):console.warn("Extent tidak valid")}function _t(e){return e&&e[0]!==1/0&&e[1]!==1/0&&e[2]!==-1/0&&e[3]!==-1/0}function Be(){Zt().then(e=>{e.data?(Xt(),Ut(e.data),Yt(),Qt(),ea()):console.error("Data GeoJSON tidak ditemukan dalam respons")}).catch(e=>{console.error("Request Failed: ",e)})}function Zt(){return $.getJSON("/kecamatan")}function Xt(){w&&(r.removeLayer(w),w=null),P?P.clear():P=new d}function Ut(e){P.addFeatures(new L().readFeatures(e,{featureProjection:"EPSG:4326"}))}function Yt(){w=new v({title:"Kecamatan",source:P,style:new m({stroke:new s({color:"blue",width:2}),fill:new u({color:"rgba(0, 0, 255, 0.1)"})})})}function Qt(){R.getLayers().push(w)}function ea(){var e=P.getExtent();ta(e)?r.getView().fit(e,{duration:1e3}):console.warn("Extent tidak valid")}function ta(e){return e&&e[0]!==1/0&&e[1]!==1/0&&e[2]!==-1/0&&e[3]!==-1/0}function aa(){na().then(e=>{e.data?(ra(),oa(e.data),ia(),la(),ca()):console.error("Data GeoJSON tidak ditemukan dalam respons")}).catch(e=>{console.error("Request Failed: ",e)})}function na(){return $.getJSON("/kelurahan")}function ra(){k&&(r.removeLayer(k),k=null),I?I.clear():I=new d}function oa(e){I.addFeatures(new L().readFeatures(e,{featureProjection:"EPSG:4326"}))}function ia(){k=new v({title:"Kelurahan",source:I,style:new m({stroke:new s({color:"black",width:2}),fill:new u({color:"rgba(255, 0, 0, 0.1)"})})})}function la(){R.getLayers().push(k)}function ca(){var e=I.getExtent();ua(e)?r.getView().fit(e,{duration:1e3}):console.warn("Extent tidak valid")}function ua(e){return e&&e[0]!==1/0&&e[1]!==1/0&&e[2]!==-1/0&&e[3]!==-1/0}function sa(){da().then(e=>{e.data?(fa(),ma(e.data),pa(),va(),ga()):console.error("Data GeoJSON tidak ditemukan dalam respons")}).catch(e=>{console.error("Request Failed: ",e)})}function da(){return $.getJSON("/rw")}function fa(){E&&(r.removeLayer(E),E=null),K?K.clear():K=new d}function ma(e){K.addFeatures(new L().readFeatures(e,{featureProjection:"EPSG:4326"}))}function pa(){E=new v({title:"RW",source:K,style:new m({stroke:new s({color:"green",width:2}),fill:new u({color:"rgba(0, 255, 0, 0.1)"})})})}function va(){R.getLayers().push(E)}function ga(){var e=K.getExtent();ha(e)?r.getView().fit(e,{duration:1e3}):console.warn("Extent tidak valid")}function ha(e){return e&&e[0]!==1/0&&e[1]!==1/0&&e[2]!==-1/0&&e[3]!==-1/0}Ke();Be();$("input[type='checkbox']").change(function(){var e=$(this).attr("id");$(this).is(":checked")?ya(e):(wa(e),document.getElementById("attribute").style.display="none")});function ya(e){e==="kemantren"?Be():e==="rw"?sa():e==="kelurahan"?aa():e==="kota"?Ke():e==="pilar"&&Nt()}function wa(e){e==="kemantren"?(z(w,P),w=null,P=null):e==="rw"?(z(E,K),E=null,K=null):e==="kelurahan"?(z(k,I),k=null,I=null):e==="kota"?(z(y,F),y=null,F=null):e==="pilar"&&(z(g,b),g=null,b=null)}function z(e,t){e&&r.removeLayer(e),t&&t.clear()}r.on("click",function(e){var t=null,a=null;if(r.forEachFeatureAtPixel(e.pixel,function(xe,q){if(q===w||q===E||q===k||q===y||q===g)return t=xe,a=q,!0}),t){if(f){var n=new m({stroke:new s({color:f.get("layer")==="kecamatan"?"blue":f.get("layer")==="rw"?"green":f.get("layer")==="kelurahan"?"black":f.get("layer")==="kota"?"purple":f.get("layer")==="pilar"?"blue":"gray",width:2}),fill:new u({color:f.get("layer")==="kecamatan"?"rgba(0, 0, 255, 0.1)":f.get("layer")==="rw"?"rgba(0, 255, 0, 0.1)":f.get("layer")==="kelurahan"?"rgba(255, 0, 0, 0.1)":f.get("layer")==="kota"?"rgba(128, 0, 128, 0.1)":f.get("layer")==="pilar"?"rgba(87, 116, 139, 0.1)":"rgba(128, 128, 128, 0.1)"}),image:f.get("layer")==="pilar"?new M({radius:5,fill:new u({color:"blue"}),stroke:new s({color:"white",width:2})}):void 0});f.setStyle(n)}var o=new m({stroke:new s({color:"yellow",width:3}),fill:new u({color:"rgba(255, 255, 0, 0.3)"}),image:a===g?new M({radius:7,fill:new u({color:"rgba(255, 255, 0, 0.1)"}),stroke:new s({color:"yellow",width:3})}):void 0});t.setStyle(o),a===w?t.set("layer","kecamatan"):a===E?t.set("layer","rw"):a===k?t.set("layer","kelurahan"):a===y?t.set("layer","kota"):a===g&&t.set("layer","pilar"),f=t;var i=t.getProperties(),l="<table class='table table-bordered m-0'><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody>";for(var c in i)if(i.hasOwnProperty(c)&&c!=="geometry"){var B=i[c];if(c==="foto"){var fe="/upload/foto/"+B;B="<a href='"+fe+"' target='_blank'><img src='"+fe+"' alt='Foto' style='width: 100px; height: auto;'/></a>"}else c==="beritaacara"&&(B="<a href='"+B+"' target='_blank'>link berita acara</a>");l+="<tr><td>"+c+"</td><td>"+B+"</td></tr>"}l+="</tbody></table>",document.querySelector("#attribute .card-body").innerHTML=l,document.getElementById("attribute").style.display="block"}else document.getElementById("attribute").style.display="none"});const ka=new Te({tipLabel:"Show Layers",groupSelectStyle:"children",collapseTipLabel:"Collapse layers"});r.addControl(ka);var Ea=new qe({className:"mousePosition",projection:"EPSG:4326",coordinateFormat:function(e){return De(e,"{y} , {x}",6)}});r.addControl(Ea);var La=new Re({target:"custom-scale-line",text:!0,bar:!0});r.addControl(La);var T=document.createElement("div");T.className="toolbarDiv";let j=document.createElement("button");j.innerHTML='<span class="icon"><i class="icon-enlarge"></i></span>';j.className="myButton";j.title="FullScreen";var Y=document.createElement("div");Y.className="fsButtonDiv";Y.appendChild(j);T.appendChild(Y);let Sa=new D({element:Y});j.addEventListener("click",()=>{let e=document.getElementById("map");e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullscreen?e.mozRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()});r.addControl(Sa);let x=document.createElement("button");x.innerHTML='<span class="icon"><i class="icon-hand"></i></span>';x.className="myButton";x.id="panButton";x.title="Pan";let Q=document.createElement("div");Q.className="panButtonDiv";Q.appendChild(x);T.appendChild(Q);let ba=new D({element:Q}),oe=!1,pe=new ze;x.addEventListener("click",()=>{x.classList.toggle("clicked"),oe=!oe,oe?(document.getElementById("map").style.cursor="grab",r.addInteraction(pe)):(document.getElementById("map").style.cursor="default",r.removeInteraction(pe))});r.addControl(ba);var A=new ye;A.on("boxend",function(){var e=A.getGeometry().getExtent();r.getView().fit(e)});var G=document.createElement("button");G.innerHTML='<span class="icon"><i class="icon-zoom-in"></i></span>';G.className="myButton";G.id="ziButton";G.title="ZoomIn";var ee=document.createElement("div");ee.className="ziButtonDiv";ee.appendChild(G);T.appendChild(ee);var Fa=new D({element:ee}),ie=!1;G.addEventListener("click",()=>{G.classList.toggle("clicked"),ie=!ie,ie?(document.getElementById("map").style.cursor="zoom-in",r.addInteraction(A)):(r.removeInteraction(A),document.getElementById("map").style.cursor="default")});r.addControl(Fa);var _=new ye;_.on("boxend",function(){var e=_.getGeometry().getExtent();r.getView().setCenter(Je(e)),W.setZoom(W.getZoom()-1)});var N=document.createElement("button");N.innerHTML='<span class="icon"><i class="icon-zoom-out"></i></span>';N.className="myButton";N.id="zoButton";N.title="Zoom Out";var te=document.createElement("div");te.className="zoButtonDiv";te.appendChild(N);T.appendChild(te);var Pa=new D({element:te}),le=!1;N.addEventListener("click",()=>{N.classList.toggle("clicked"),le=!le,le?(document.getElementById("map").style.cursor="zoom-out",r.addInteraction(_)):(r.removeInteraction(_),document.getElementById("map").style.cursor="default")});r.addControl(Pa);$("#btnCrosshair").on("click",function(e){$("#btnCrosshair").toggleClass("clicked"),$("#btnCrosshair").hasClass("clicked")?Ia():Ka()});var Ce,H=new _e({trackingOptions:{enableHighAccuracy:!0},tracking:!0,projection:W.getProjection()}),J=new we;J.setStyle(new m({image:new M({radius:6,fill:new u({color:"#3399cc"}),stroke:new s({color:"#fff",width:2})})}));var Z=new we;new v({map:r,source:new d({features:[Z,J]})});function Ia(){var e=H.getPosition();J.setGeometry(e?new me(e):null),Z.setGeometry(H.getAccuracyGeometry()),e&&r.getView().animate({center:e,zoom:16,duration:1e3}),Ce=setInterval(function(){var t=H.getPosition(),a=H.getAccuracyGeometry();J.setGeometry(t?new me(t):null),Z.setGeometry(a),t&&r.getView().animate({center:t,duration:1e3})},1e4)}function Ka(){clearInterval(Ce),J.setGeometry(null),Z.setGeometry(null)}let V=document.createElement("button");V.innerHTML='<span class="icon"><i class="icon-ruler"></i></span>';V.className="myButton";V.id="lengthButton";V.title="Measure Length";var ae=document.createElement("div");ae.className="lengthButtonDiv";ae.appendChild(V);T.appendChild(ae);var Ba=new D({element:ae}),ce=!1;V.addEventListener("click",()=>{if(V.classList.toggle("clicked"),ce=!ce,document.getElementById("map").style.cursor="default",ce)r.removeInteraction(S),Me("LineString");else{r.removeInteraction(S),re.clear();const e=document.getElementsByClassName("ol-tooltip ol-tooltip-static");for(;e.length>0;)e[0].remove()}});r.addControl(Ba);let O=document.createElement("button");O.innerHTML='<span class="icon"><i class="icon-straighten"></i></span>';O.className="myButton";O.id="areaButton";O.title="Measure Area";var ne=document.createElement("div");ne.className="areaButtonDiv";ne.appendChild(O);T.appendChild(ne);var Ca=new D({element:ne}),ue=!1;O.addEventListener("click",()=>{if(O.classList.toggle("clicked"),ue=!ue,document.getElementById("map").style.cursor="default",ue)r.removeInteraction(S),Me("Polygon");else{r.removeInteraction(S),re.clear();const e=document.getElementsByClassName("ol-tooltip ol-tooltip-static");for(;e.length>0;)e[0].remove()}});r.addControl(Ca);var S,re=new d,Ma=new v({source:re,style:new m({fill:new u({color:"rgba(255, 255, 255, 0.2)"}),stroke:new s({color:"#ffcc33",width:2}),image:new M({radius:7,fill:new u({color:"#ffcc33"})})})});r.addLayer(Ma);function Me(e){S=new $e({source:re,type:e,style:new m({fill:new u({color:"rgba(200, 200, 200, 0.6)"}),stroke:new s({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new M({radius:5,stroke:new s({color:"rgba(0, 0, 0, 0.7)"}),fill:new u({color:"rgba(255, 255, 255, 0.2)"})})})}),r.addInteraction(S),ge(),xa();var t,a=function(n){n.dragging||t&&t.getGeometry()};r.on("pointermove",a),S.on("drawstart",function(n){t=n.feature;var o=n.coordinate;t.getGeometry().on("change",function(i){var l=i.target,c;l instanceof je?(c=Na(l),o=l.getInteriorPoint().getCoordinates()):l instanceof He&&(c=Ga(l),o=l.getLastCoordinate()),h.innerHTML=c,X.setPosition(o)})}),S.on("drawend",function(){h.className="ol-tooltip ol-tooltip-static",X.setOffset([0,-7]),t=null,h=null,ge()})}var C,ve;function xa(){C&&C.parentNode.removeChild(C),C=document.createElement("div"),C.className="ol-tooltip hidden",ve=new ke({element:C,offset:[15,0],positioning:"center-left"}),r.addOverlay(ve)}$(r.getViewport()).on("mouseout",function(){$(C).addClass("hidden")});var h,X;function ge(){h&&h.parentNode.removeChild(h),h=document.createElement("div"),h.className="ol-tooltip  ol-tooltip-measure",X=new ke({element:h,offset:[0,-15],positioning:"bottom-center"}),r.addOverlay(X)}var Ga=function(e){var t=We(e,{projection:"EPSG:4326"}),a;return t>1e3?a=Math.round(t/1e3*100)/100+" km":a=Math.round(t*100)/100+" m",a},Na=function(e){var t=Ae(e,{projection:"EPSG:4326"}),a;return t>1e6?a=Math.round(t/1e6*100)/100+" km<sup>2</sup>":a=Math.round(t*100)/100+" m<sup>2</sup>",a};
